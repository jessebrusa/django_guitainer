{% extends 'base/main.html' %}

{% block content %}
    <h1>Guitainer</h1>
    <hr>
    <ul>
        {% for song in song_list %}
            <li data-song-id="{{ song.id }}">
                <p>Title: {{ song.title }}</p>
                <p>Artist: {{ song.artist }}</p>
                <p><img src="{{ song.songurl.img }}" alt="picture of song from google"></p>
                <p><a href="{% url 'song_detail' song.id %}">View Song</a></p>
                <button class="remove-from-library" data-song-id="{{ song.id }}" data-song-title="{{ song.title }}">Remove from Library</button>                <hr>
            </li>
        {% endfor %}
    </ul>

    {% load static %}
    <script src="{% static 'js/main.js' %}"></script>
    <script>
        var csrftoken = "{{ csrf_token }}";

        window.onload = function () {
            handleSongRemoval(csrftoken);
        };
    </script>

{% endblock %}
