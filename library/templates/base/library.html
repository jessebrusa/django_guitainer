{% extends 'base/main.html' %}

{% block content %}

    <div class="headerItems">

        <div class="headerContainer" >
            <h1>Library</h1>
        </div>

        <form method="get" action="{% url 'library' %}" class="searchContainer">
            <input type="text" name="search" placeholder="Search">
            <button type="submit">Search</button>
        </form>
        
    </div>
    

    <ul>
        {% for song in song_list %}
            <li data-song-id="{{ song.id }}">
                <p>Title: {{ song.title }}</p>
                <p>Artist: {{ song.artist }}</p>
                <p><img src="{{ song.songurl.img }}" alt="picture of song from google"></p>
                <p><a href="{% url 'song-detail' song.id %}">View Song</a></p>
                <button class="remove-item" data-item-id="{{ song.id }}" data-item-title="{{ song.title }}" data-item-action="remove" data-item-location="library">
                    Remove from Library
                </button>                
                <hr>
            </li>
        {% endfor %}
    </ul>

    {% load static %}
    <script src="{% static 'js/main.js' %}"></script>
    <script>
        var csrftoken = "{{ csrf_token }}";

        window.onload = function () {
            handleItemRemoval(csrftoken);
        };
    </script>

{% endblock %}
